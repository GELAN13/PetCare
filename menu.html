
<!doctype html><html lang="es"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Menu</title><link rel="stylesheet" href="styles.css"></head><body data-theme="light">
<header class="header"><button class="menu-btn" id="menuToggle">â˜°</button><div class="brand"><h1>ğŸ¾ PetCare+</h1></div><div><button id="logoutTop" class="btn">Salir</button></div></header>
<aside class="sidebar" id="sidebar"><div class="user">Usuario</div>
<div class="nav-item" data-href="listadoMascotas.html">ğŸ” Explorar mascotas</div>
<div class="nav-item" data-href="registroMascota.html">â• Registrar mascota</div>
<div class="nav-item" data-href="gestionar_mascotas.html">âœï¸ Gestionar mascotas</div>

<div class="nav-item" data-href="mensajes.html">ğŸ’¬ Mensajes</div>

<div style="flex:1"></div>
<div class="nav-item" id="themeToggle">ğŸŒ / ğŸŒ™ Cambiar tema</div>
<div style="height:8px"></div>
<div class="nav-item" id="logoutSide">ğŸšª Cerrar sesiÃ³n</div>
</aside>
<main class="content" id="content"><div class="container"><div class="panel"><h2>Bienvenido a PetCare+</h2><p class="small">Usa el menÃº (â˜°) para navegar. En cualquier pÃ¡gina presiona "Volver al menÃº" para regresar.</p><div style="margin-top:12px"><a class="btn" href="listadoMascotas.html">Ir a Explorar</a></div></div></div></main>
<script type="module">
    
import firebaseConfig from './firebaseConfig.js';
import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js';
import { getAuth, onAuthStateChanged, signOut } from 'https://www.gstatic.com/firebasejs/9.22.1/firebase-auth.js';
const app = initializeApp(firebaseConfig); const auth = getAuth(app);
const sidebar = document.getElementById('sidebar'); const content = document.getElementById('content'); const menuToggle = document.getElementById('menuToggle');
function openMenu(){ sidebar.classList.add('open'); content.classList.add('shift'); }
function closeMenu(){ sidebar.classList.remove('open'); content.classList.remove('shift'); }
menuToggle.addEventListener('click', ()=>{ if(sidebar.classList.contains('open')) closeMenu(); else openMenu(); localStorage.setItem('menuOpen', sidebar.classList.contains('open')); });
document.querySelectorAll('.nav-item[data-href]').forEach(n=> n.addEventListener('click', ()=>{ window.location.href = n.dataset.href; closeMenu(); }));
document.getElementById('logoutTop').addEventListener('click', async ()=>{ if(confirm('Cerrar sesiÃ³n?')){ await signOut(auth); window.location.href='login.html'; } });
document.getElementById('logoutSide').addEventListener('click', async ()=>{ if(confirm('Cerrar sesiÃ³n?')){ await signOut(auth); window.location.href='login.html'; } });
document.getElementById('themeToggle').addEventListener('click', ()=>{ const cur = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark'; document.documentElement.setAttribute('data-theme', cur); localStorage.setItem('theme', cur); });
onAuthStateChanged(auth,user=>{ if(!user){ document.querySelector('.user').textContent='Invitado'; } else { document.querySelector('.user').textContent = user.displayName || user.email; } });
if(localStorage.getItem('menuOpen')==='true') openMenu();
const saved = localStorage.getItem('theme') || 'light'; document.documentElement.setAttribute('data-theme', saved);
</script></body></html>
